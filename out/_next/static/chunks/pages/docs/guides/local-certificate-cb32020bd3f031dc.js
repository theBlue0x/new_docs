(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[875],{9857:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/guides/local-certificate",function(){return n(7163)}])},7163:function(e,i,n){"use strict";n.r(i);var s=n(5893),t=n(6997),c=n(1151),d=n(5675),o=n.n(d),r=n(1236);function l(e){let i=Object.assign({h1:"h1",p:"p",code:"code",h2:"h2",a:"a",h3:"h3",ol:"ol",li:"li",strong:"strong"},(0,c.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h1,{children:"Local SSL certificate"}),"\n",(0,s.jsxs)(i.p,{children:["Requried Tipi version: ",(0,s.jsx)(i.code,{children:">= 1.5.0"})]}),"\n",(0,s.jsx)(i.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(i.p,{children:"With Tipi you can access your dashboard and apps locally using a secure connection. When installing Tipi, a self-signed SSL certificate is generated for you."}),"\n",(0,s.jsxs)(i.p,{children:["The default domain for the certificate is ",(0,s.jsx)(i.code,{children:"tipi.lan"}),". You can change this domain in the settings page of the dashboard. Or by giving the ",(0,s.jsx)(i.code,{children:"localDomain"})," value in your ",(0,s.jsx)(i.code,{children:"settings.json"})," file.\nSee the ",(0,s.jsx)(i.a,{href:"/docs/getting-started/custom-settings",children:"custom-settings"})," section for more information."]}),"\n",(0,s.jsx)(i.h2,{id:"trusting-the-certificate",children:"Trusting the certificate"}),"\n",(0,s.jsxs)(i.p,{children:["To be able to use the certificate, you need to trust it. This is done by adding the certificate to your operating system's trust store.\nFirst you need to export the certificate from the Tipi dashboard. You can do this by clicking the ",(0,s.jsx)(i.code,{children:"Download certificate"})," button in the settings page of the dashboard. (below the ",(0,s.jsx)(i.code,{children:"Local domain"})," input field)"]}),"\n",(0,s.jsx)(i.h3,{id:"windows",children:"Windows"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Open the ",(0,s.jsx)(i.code,{children:"Start"})," menu and type ",(0,s.jsx)(i.code,{children:"certmgr.msc"})," and press ",(0,s.jsx)(i.code,{children:"Enter"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["In the left pane, click ",(0,s.jsx)(i.code,{children:"Trusted Root Certification Authorities"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["In the right pane, click ",(0,s.jsx)(i.code,{children:"Certificates"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["On the ",(0,s.jsx)(i.code,{children:"Action"})," menu, point to ",(0,s.jsx)(i.code,{children:"All Tasks"}),", and then click ",(0,s.jsx)(i.code,{children:"Import"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Follow the instructions in the ",(0,s.jsx)(i.code,{children:"Certificate Import Wizard"})," to import the certificate."]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"macos",children:"macOS"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Open the ",(0,s.jsx)(i.code,{children:"Keychain Access"})," app."]}),"\n",(0,s.jsxs)(i.li,{children:["Click ",(0,s.jsx)(i.code,{children:"File"})," > ",(0,s.jsx)(i.code,{children:"Import Items"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Select the certificate file and click ",(0,s.jsx)(i.code,{children:"Open"}),"."]}),"\n",(0,s.jsx)(i.li,{children:"Double-click the certificate file."}),"\n",(0,s.jsxs)(i.li,{children:["Expand the ",(0,s.jsx)(i.code,{children:"Trust"})," section."]}),"\n",(0,s.jsxs)(i.li,{children:["Change the ",(0,s.jsx)(i.code,{children:"When using this certificate"})," option to ",(0,s.jsx)(i.code,{children:"Always Trust"}),"."]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"linux",children:"Linux"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Copy the certificate file to ",(0,s.jsx)(i.code,{children:"/usr/local/share/ca-certificates/"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Run ",(0,s.jsx)(i.code,{children:"sudo update-ca-certificates"}),"."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"dns-resolution",children:"DNS resolution"}),"\n",(0,s.jsx)(i.p,{children:"To be able to access your dashboard and apps using the local domain, you need to make sure that the domain resolves to the IP address of your Tipi server."}),"\n",(0,s.jsxs)(i.p,{children:["The easiest way to do this is by running a DNS server on your network and adding the domain to it.\nYou can use ",(0,s.jsx)(i.strong,{children:"Pi-hole"})," or ",(0,s.jsx)(i.strong,{children:"AdGuard Home"})," for this. Both are available as apps in the Tipi App store."]}),"\n",(0,s.jsxs)(i.p,{children:["For example using AdGuard Home you can add the domain to the ",(0,s.jsx)(i.code,{children:"DNS rewrites"})," section of the app."]}),"\n",(0,s.jsx)(r.UW,{children:(0,s.jsxs)(i.p,{children:["Don't forget to add the wildcard domain ",(0,s.jsx)(i.code,{children:"*.tipi.lan"})," to the ",(0,s.jsx)(i.code,{children:"DNS rewrites"})," section in order to be able to access your apps as well."]})}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(o(),{src:"/images/local-certificate/dns-rewrite.png",width:879,height:187}),"\n",(0,s.jsxs)(i.p,{children:["If you don't have a DNS server running on your network, you can add the domain to the ",(0,s.jsx)(i.code,{children:"hosts"})," file on your computer."]}),"\n",(0,s.jsx)(r.UW,{emoji:"⚠️",type:"warning",children:(0,s.jsxs)(i.p,{children:["By using this method you need to do this on every device you want to access your dashboard and apps from and for every domain you want to use. (e.g. ",(0,s.jsx)(i.code,{children:"tipi.lan"}),", ",(0,s.jsx)(i.code,{children:"app1.tipi.lan"}),", ",(0,s.jsx)(i.code,{children:"app2.tipi.lan"}),")"]})}),"\n",(0,s.jsx)(i.h3,{id:"windows-1",children:"Windows"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Open the ",(0,s.jsx)(i.code,{children:"Start"})," menu and type ",(0,s.jsx)(i.code,{children:"Notepad"})," and press ",(0,s.jsx)(i.code,{children:"Enter"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Click ",(0,s.jsx)(i.code,{children:"File"})," > ",(0,s.jsx)(i.code,{children:"Open"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Navigate to ",(0,s.jsx)(i.code,{children:"C:\\Windows\\System32\\drivers\\etc"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Change the file filter to ",(0,s.jsx)(i.code,{children:"All Files (*.*)"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Select ",(0,s.jsx)(i.code,{children:"hosts"})," and click ",(0,s.jsx)(i.code,{children:"Open"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Add the following line to the end of the file: ",(0,s.jsx)(i.code,{children:"  <ip-address> <domain>"}),"."]}),"\n",(0,s.jsx)(i.li,{children:"Save the file."}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"macos--linux",children:"macOS / Linux"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Open the ",(0,s.jsx)(i.code,{children:"Terminal"})," app."]}),"\n",(0,s.jsxs)(i.li,{children:["Run ",(0,s.jsx)(i.code,{children:"sudo nano /etc/hosts"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Add the following line to the end of the file: ",(0,s.jsx)(i.code,{children:"<ip-address> <domain>"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Press ",(0,s.jsx)(i.code,{children:"Ctrl + X"})," to exit."]}),"\n",(0,s.jsxs)(i.li,{children:["Press ",(0,s.jsx)(i.code,{children:"Y"})," to save the file."]}),"\n",(0,s.jsxs)(i.li,{children:["Press ",(0,s.jsx)(i.code,{children:"Enter"})," to confirm the file name."]}),"\n"]})]})}i.default=(0,t.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:i}=Object.assign({},(0,c.ah)(),e.components);return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(l,{...e})}):l(e)},pageOpts:{filePath:"pages/docs/guides/local-certificate.mdx",route:"/docs/guides/local-certificate",headings:[{depth:1,value:"Local SSL certificate",id:"local-ssl-certificate"},{depth:2,value:"Introduction",id:"introduction"},{depth:2,value:"Trusting the certificate",id:"trusting-the-certificate"},{depth:3,value:"Windows",id:"windows"},{depth:3,value:"macOS",id:"macos"},{depth:3,value:"Linux",id:"linux"},{depth:2,value:"DNS resolution",id:"dns-resolution"},{depth:3,value:"Windows",id:"windows-1"},{depth:3,value:"macOS / Linux",id:"macos--linux"}],timestamp:1689351904e3,title:"Local SSL certificate"},pageNextRoute:"/docs/guides/local-certificate"})}},function(e){e.O(0,[997,774,888,179],function(){return e(e.s=9857)}),_N_E=e.O()}]);