(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[785],{1097:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/guides/expose-apps-with-cloudflare-tunnels",function(){return s(5050)}])},5050:function(e,n,s){"use strict";s.r(n);var o=s(5893),r=s(6997),t=s(1151),i=s(5675),d=s.n(i),a=s(1236);function l(e){let n=Object.assign({h1:"h1",p:"p",h2:"h2",ul:"ul",li:"li",a:"a",strong:"strong",h3:"h3",code:"code"},(0,t.ah)(),e.components);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{children:"Expose your apps using Cloudflare tunnels"}),"\n",(0,o.jsx)(n.p,{children:"Cloudflare Tunnels allow you to expose your local web server to the internet without having to configure any firewall rules or DNS records.\nAditionnally your IP address will be hidden behind Cloudflare's network as requests will be proxied through Cloudflare's edge network."}),"\n",(0,o.jsx)(n.p,{children:"Cloudflare tunnels are available for free for all Cloudflare users."}),"\n",(0,o.jsx)(n.h2,{id:"pre-requisites",children:"Pre-requisites"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["A Cloudflare account ",(0,o.jsx)(n.a,{href:"https://dash.cloudflare.com/sign-up",children:"sign up here"})]}),"\n",(0,o.jsx)(n.li,{children:"A domain name"}),"\n",(0,o.jsx)(n.li,{children:"A tipi instance running on your local network"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"use-case",children:"Use case"}),"\n",(0,o.jsxs)(n.p,{children:["You want to expose to the internet the ",(0,o.jsx)(n.strong,{children:"searxng"})," instance running on your Tipi."]}),"\n",(0,o.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,o.jsxs)(a.Rg,{children:[(0,o.jsx)(n.h3,{id:"add-your-domain-to-cloudflare",children:"Add your domain to Cloudflare"}),(0,o.jsxs)(n.p,{children:["In the Cloudflare dashboard, go to the Website tab and click on the ",(0,o.jsx)(n.strong,{children:"Add site"})," button.\nEnter your domain name and click on ",(0,o.jsx)(n.strong,{children:"Add site"}),".\nScroll down a little bit and choose the ",(0,o.jsx)(n.strong,{children:"Free"})," plan option."]}),(0,o.jsx)(d(),{src:"/images/cloudflare-tunnels/free-plan.png",width:879,height:187}),(0,o.jsxs)(n.p,{children:["Click on ",(0,o.jsx)(n.strong,{children:"Continue"})," and then on ",(0,o.jsx)(n.strong,{children:"Continue"})," again."]}),(0,o.jsx)(n.h3,{id:"add-cloudflares-nameservers-to-your-domain",children:"Add Cloudflare's nameservers to your domain"}),(0,o.jsxs)(n.p,{children:["Copy the nameservers presented in the Cloudflare dashboard and add them to your domain's DNS settings.\nDepending on your domain registrar, you may need to add them as ",(0,o.jsx)(n.strong,{children:"NS"})," records or ",(0,o.jsx)(n.strong,{children:"Name Server"})," records."]}),(0,o.jsx)(d(),{src:"/images/cloudflare-tunnels/nameservers.png",width:527,height:129}),(0,o.jsx)(n.p,{children:"This step may take a few minutes to propagate."}),(0,o.jsx)(n.h3,{id:"create-a-tunnel",children:"Create a tunnel"}),(0,o.jsxs)(n.p,{children:["In the Cloudflare dashboard, go to the ",(0,o.jsx)(n.strong,{children:"Zero Trust"})," tab and click on ",(0,o.jsx)(n.strong,{children:"Access"})," -> ",(0,o.jsx)(n.strong,{children:"Tunnels"}),"."]}),(0,o.jsx)("br",{}),(0,o.jsx)(d(),{src:"/images/cloudflare-tunnels/tunnels-menu.png",width:260,height:300}),(0,o.jsxs)(n.p,{children:["Click on the ",(0,o.jsx)(n.strong,{children:"Create a tunnel"})," button."]}),(0,o.jsxs)(n.p,{children:["Give your tunnel a name and click on ",(0,o.jsx)(n.strong,{children:"Save tunnel"}),"."]}),(0,o.jsx)(n.h3,{id:"run-the-connector-on-your-server",children:"Run the connector on your server"}),(0,o.jsx)(n.p,{children:"Click on Docker and copy the command presented in the dashboard.\nSSH into your Tipi server and run the command copied from the Cloudflare dashboard."}),(0,o.jsx)(a.UW,{children:(0,o.jsxs)(n.p,{children:["You can add the ",(0,o.jsx)(n.code,{children:"-d"})," flag to run it in the background.\n",(0,o.jsx)(n.code,{children:"docker run -d ..."})]})}),(0,o.jsx)(n.p,{children:"You should now see the tunnel running in the dashboard."}),(0,o.jsx)(n.h3,{id:"add-a-public-hostname-to-your-tunnel",children:"Add a Public hostname to your tunnel"}),(0,o.jsxs)(n.p,{children:["Select your newly created tunnel, ",(0,o.jsx)(n.strong,{children:"configure"})," and click on the ",(0,o.jsx)(n.strong,{children:"Public hostname"})," tab."]}),(0,o.jsxs)(n.p,{children:["Click on ",(0,o.jsx)(n.strong,{children:"Add a public hostname"})]}),(0,o.jsxs)(n.p,{children:["Fill out the form by entering the subdomain you want (e.g. searxng) and select your domain name from the dropdown.\nIn the service section, choose the type ",(0,o.jsx)(n.strong,{children:"HTTPS"})," and in URL enter the IP address of your Tipi server."]}),(0,o.jsxs)(n.p,{children:["In the additional settings section, choose the ",(0,o.jsx)(n.strong,{children:"No TLS Verfiy"})," option."]}),(0,o.jsx)("br",{}),(0,o.jsx)(d(),{src:"/images/cloudflare-tunnels/hostname-config.png",width:1303,height:828}),(0,o.jsxs)(n.p,{children:["Click on ",(0,o.jsx)(n.strong,{children:"Save hostname"}),"."]}),(0,o.jsx)(n.h3,{id:"expose-your-app-on-tipi",children:"Expose your app on Tipi"}),(0,o.jsx)(n.p,{children:"Open your Tipi dashboard and search for the app you want to expose.\nMake sure the app is stopped and click on the settings button."}),(0,o.jsxs)(n.p,{children:["Enable the ",(0,o.jsx)(n.strong,{children:"Expose app"})," option and enter the subdomain you chose earlier."]}),(0,o.jsx)("br",{}),(0,o.jsx)(d(),{src:"/images/cloudflare-tunnels/tipi-expose.png",width:730,height:289}),(0,o.jsxs)(n.p,{children:["Click on ",(0,o.jsx)(n.strong,{children:"Save"})," and then start the app again."]}),(0,o.jsx)(n.h3,{id:"access-your-app",children:"Access your app"}),(0,o.jsxs)(n.p,{children:["You can now access your app securely by visiting ",(0,o.jsx)(n.code,{children:"https://<subdomain>.<domain>"}),"."]})]})]})}n.default=(0,r.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)},pageOpts:{filePath:"pages/docs/guides/expose-apps-with-cloudflare-tunnels.mdx",route:"/docs/guides/expose-apps-with-cloudflare-tunnels",headings:[{depth:1,value:"Expose your apps using Cloudflare tunnels",id:"expose-your-apps-using-cloudflare-tunnels"},{depth:2,value:"Pre-requisites",id:"pre-requisites"},{depth:2,value:"Use case",id:"use-case"},{depth:2,value:"Configuration",id:"configuration"},{depth:3,value:"Add your domain to Cloudflare",id:"add-your-domain-to-cloudflare"},{depth:3,value:"Add Cloudflare's nameservers to your domain",id:"add-cloudflares-nameservers-to-your-domain"},{depth:3,value:"Create a tunnel",id:"create-a-tunnel"},{depth:3,value:"Run the connector on your server",id:"run-the-connector-on-your-server"},{depth:3,value:"Add a Public hostname to your tunnel",id:"add-a-public-hostname-to-your-tunnel"},{depth:3,value:"Expose your app on Tipi",id:"expose-your-app-on-tipi"},{depth:3,value:"Access your app",id:"access-your-app"}],timestamp:1689351904e3,title:"Expose your apps using Cloudflare tunnels"},pageNextRoute:"/docs/guides/expose-apps-with-cloudflare-tunnels"})}},function(e){e.O(0,[997,774,888,179],function(){return e(e.s=1097)}),_N_E=e.O()}]);